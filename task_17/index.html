<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="main.js"></script>
    <title>Решето Эратосфена</title>
</head>
<body>
    <div class="container">
        <div class="w-50 m-auto">
            <h2>Решето Эратосфена</h2>
            <div class="form-group my-4">
                <input type="number" class="form-control mb-3" placeholder="Введите конечное значение массива">
                <button class="btn btn-primary" onclick="getNumbers()">Рассчитать</button>
            </div>
            <div class="resheto mb-3"></div>
        </div>
    </div>
    <script>
        function getNumbers() {
            var n = document.querySelector('input').value;
            if (n<5) {
                alert('Введите число больше 4');
                window.location.reload();
            }
            var array = [], limit = Math.sqrt(n), result = "";

            // Создаю массив от 2 до (n - 1)
            for (var i = 2; i < n; i++) {
                array.push(true);
            }

            // Удаляю кратные 2, 3, 5...
            for (var i = 2; i <= limit; i++) {
                if (array[i]) {
                    for (var j = i * i; j < n; j += i) {
                        array[j] = false;
                    }
                }
            }

            // Все значения массива [i] true являются простыми числами
            for (var i = 2; i < n; i++) {
                if(array[i]) {
                    result += " " + i;
                }
            }

            //Вывод массива
            document.querySelector('.resheto').innerHTML = `<h3>Решето до ${n}</h3><div>${result}</div>`;
        }
    </script>
</body>
</html>